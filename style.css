/* ---- VARIABLES ---- */
/* TODO: look into relative color definitions, esp for 'subdued' def 
    see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_colors/Relative_colors
    esp the Color palette generator example, monochrome */
* {  
	--primary-bg-color: #fff;
    --secondary-bg-color: #ededed;
    --primary-txt-color: #171717;
	--secondary-txt-color: #73787c;
    --primary-link-color: #46b;
    --secondary-link-color: #84b;

    --sans-serif-font-stack: ui-sans-serif, system-ui, sans-serif;
    --monospace-font-stack: ui-monospace, monospace;
}

@media (prefers-color-scheme: dark) {
    * {
		--primary-bg-color: #121212;
		--secondary-bg-color: #3f3f3f;
		--primary-txt-color: #aaa;
		--secondary-txt-color: #969696;
        --primary-link-color: #7391bd;
        --secondary-link-color: #987ac5;
    }
}

/* ---- END VARIABLE DEFINITIONS ---- */
/* ---- GENERAL STYLING ---- */
html {
	font-family: var(--sans-serif-font-stack);
	background: var(--primary-bg-color);
    max-width: 70ch;
    padding: 1em;
    margin: auto;
    line-height: 1.75;
	color: var(--primary-txt-color);
	/* next 3 lines disable auto-inflate on various mobile browsers */
	-moz-text-size-adjust: none;
	-webkit-text-size-adjust: none;
	text-size-adjust: none; 
}

/* for story artwork */
figure {
    text-align: center;
    margin-bottom: 2em
}
img {
    max-width: 80%;
    object-fit: contain;
    padding-bottom: 0.2em;
}
figcaption {
    font-size: 0.8rem;
    font-style: italic;
}

blockquote {
    font-style: italic;
    font-size: 90%;
	margin: 2em;
    border-left: 3px solid;
    padding-left: 1em;  
}

code {
    background: var(--secondary-bg-color);
}

pre {
    background: var(--secondary-bg-color);
    padding: 2px 4px;
    overflow: auto;
}

video {
    width: 100%;
}

/* style link behavior to use clear colors and underlining for visual clarity */
a {
    color: var(--primary-link-color);
    text-decoration-line: underline; /* text-decoration single line shorthand not working in Safari */
    text-decoration-style: dashed;
    text-decoration-thickness: 1px;
    text-underline-offset: 0.15rem;
}
a:link {
    text-decoration-color: var(--primary-link-color);
}
a:hover { /* :focus puts a border around a link by default, so no need to also do this */
    font-weight: bolder;
}
a:visited {
    color: var(--secondary-link-color);
    text-decoration-color: var(--secondary-link-color);
}

/* headings */
h1, h2, h3, h4 {
	font-weight: normal;
	line-height: 1.3;
}
h1 { /* page titles */
    margin-top: 3rem;
    margin-bottom: 0.5rem;
}
h1 + h3 { /* author after /stories/ title */
    font-style: italic;
    color: var(--secondary-txt-color);
    margin-top: 0rem;
    margin-bottom: 3rem;
}

h2 { /* /cancer-blog/ entry titles */
    margin-top: 3rem;
    margin-bottom: 0.3rem;
}
h2 + h3 { /* date after /cancer-blog/ entry title */
    font-style: italic;
    color: var(--secondary-txt-color);
    margin-top: 0rem;
}
/* end TODO */

hr {  /* used semantically, as scene divider */
    border: none;
    overflow: visible;
    text-align: center;
    height: 2rem;
    font-size: 2rem;
    padding: 1rem 0;
    font-weight: bold;
}
hr:after {
    content: 'ยง';
    position: relative;
    top: -0.8rem; /* to vertically center it; depends also on <p> margins/padding */
}

aside { /* for quotes from the blog -- see if I still need all this TODO */
    border-top: 1px dotted var(--primary-txt-color);
    border-bottom: 1px dotted var(--primary-txt-color);
    background: var(--secondary-bg-color);
    margin: 3rem 0;
    padding: 1rem 0;
    text-align: center;
    font-style: italic;
    font-size: 1rem;
}
aside:has(h4 + blockquote) {
    font-style: normal;
    text-align: left;
}
aside > h4 {
    margin-left: 2em; /* match blockquote */
}

/* ---- END GENERAL STYLING ---- */
/* ---- SPECIFIC OVERRIDES ---- */
section.toc {
    margin: 2rem 0;
}
section.toc h1 {
   font-size: 2rem; /* smaller in section, article, aside, nav elts; compensate */
   margin-bottom: 1rem;
}
section.toc h1 + h3 { /* see above, override page title + author styling */
    font-style: normal;
    color: var(--primary-txt-color);
    margin-top: 1rem;
    margin-bottom: 0.3rem;
}
section.toc h2 + h3 { /* see above, override cancer blog entry title + date styling */
    font-style: normal;
    color: var(--primary-txt-color);
    margin-top: 0.5rem;
}
section.toc h3 { /* ToC story names, cancer blog page names */
/*    font-size: 1.2rem; /* smaller in section, article, aside, nav elts; compensate */
    margin: 0.5rem 0;
}
section.toc p {
    margin-top: 0.3rem;
}
section.toc h3 + p {
    margin-top: 0;
}
section.toc p + h3 { /* spacing from prev element when there are blurbs */
    margin-top: 2rem;
    margin-bottom: 0.2rem;
}

/* specific to /stories/ */
span.newthought { /* for text starting a new section in-story */
    font-variant: small-caps;
    font-size: 1.2em;
}
/* for the stage directions in Liz Builds a Robot */
pre.liz, pre.liz > code {
    background: var(--primary-bg-color);
    font-family: var(--monospace-font-stack);
    text-align: center;
    font-size: 0.7rem;
    line-height: 1.3;
    margin-top: 0.4em; 
    margin-bottom: 0.4em;
}
/* style the very top and very bottom of the page content, 
   ie, the page header and footer sections. Note this
   leaves possible headers and footers in other sections
   unchanged */
body > header {
    text-align: center;
	margin-bottom: 2rem; /* same spacing as above the footer, see below */
}
body > footer {
	text-align: center;
    margin-top: 2rem;
}

/* style the mirrored elements in header, footer */
body > header > p { /* name of site */
	font-size: 0.9rem; 
	color: var(--secondary-txt-color);
    border-bottom: 1px solid var(--secondary-txt-color);
    margin-bottom: 0.2rem;  
}
body > header > nav { /* nav links */
	font-size: 0.8rem;
	color: var(--secondary-txt-color);
/*	margin: 0 0 0.7rem 0; */
}
body > header > nav.back-to-main { /* top nav element on site */
    margin-bottom: 1rem;
}
/* footer version */
body > footer > p { /* copyright text, link to license */
	font-size: 0.8rem; /* note, smaller than site name in header */
	color: var(--secondary-txt-color);
/*    padding-top: 0.2rem; /* to match spacing from line with header spacing */
/*    margin-top: 0; */
    margin-bottom: 0.2rem;  /* spacing to element below */
    border-top: 1px solid var(--secondary-txt-color);
}
body > footer > nav { /* nav links */
	font-size: 0.8rem;
	color: var(--secondary-txt-color);
/*	margin: 0.7rem 0 0 0; */
}
body > footer > nav.back-to-main { /* bottom nav element on site */
    margin-top: 1rem;
}


/* some pages have a top quotation; style this */
body > header > figure {
    padding: 0.6rem;
    margin: 0;
}
body > header > figure > blockquote {
	margin: 0 auto;
}
body > header > figure > blockquote > p {
    text-align: center;
    font-size:0.8rem;
	color: var(--secondary-txt-color);
    font-style: italic;
	padding-top: 0.2rem;
	padding-bottom: 0.2rem;
    margin: 0 auto; /* the 'auto' for left and right enables centering when max width is reached */
    max-width: 50ch; /* so quotes wrap more nicely */
}
body > header > figure > blockquote + figcaption {
    font-size: 0.7rem;
	color: var(--secondary-txt-color);
    margin-top: 0;
}

/* --- end of page header / footer styling --- */

